# CLI

## Basic usage on local manifests

Comtrya works by running a manifest or set of manifests. The following are examples of running comtrya against manifests that are on the local machine.

```
# Run all manifests within your current directory
comtrya apply

# --manifests, or -m, will run a subset of your manifests
comtrya apply -m one,two,three

# Run all manifests within a specified directory
comtrya -d ./manifests apply
```

## Basic usage on remote manifests

Comtrya also has the ability to run remote manifests, normally hosted in a git repository on github.

```
# Manifests in a Git repository
comtrya -d https://github.com/rawkode/rawkode apply

# Manifests in a Git repository with a branch and path
comtrya -d https://github.com/rawkode/rawkode#main:dotfiles apply

# Manifests in a Git repository with a branch and path and a subset selector
comtrya -d https://github.com/rawkode/rawkode#main:dotfiles apply -m dev.git
```

## Help menu

Comtrya provides a help menu that can be shown by running the following in your terminal:

```
comtrya -h
```

```
A tool to simplify reprovisioning a fresh OS. Installs packages and manages dotfiles.

Usage: comtrya [OPTIONS] <COMMAND>

Commands:
  apply            Apply manifests
  version          Print version information
  contexts         List available contexts (BETA)
  gen-completions  Auto generate completions
  help             Print this message or the help of the given subcommand(s)

Options:
  -d, --manifest-directory <MANIFEST_DIRECTORY>
      --no-color                                 Disable color printing
  -v...                                          Debug & tracing mode (-v, -vv)
  -h, --help                                     Print help
  -V, --version                                  Print version
```

## Auto generate completions

Shell completions for comtrya can be generated by desired shell via gen-completions subcommand.

```
comtrya gen-completions [SHELL]
```

for bash
```
source <(comtrya gen-completions bash)
```

for fish
```
comtrya gen-completions fish | source
```
